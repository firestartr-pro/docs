<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ğŸ“„ Introduction# When using Firestartr, each client should have a repository called .firestartr, which should contain a variety of YAML files describing many different aspects of the clientâ€™s repository, registry and application structures.
ğŸ“ Repo structure# The repo structure is as follows:
apps/ â”œâ”€ app1.yaml # app1 configuration YAML â”œâ”€ app2.yml # app2 configuration YAML docker_registries/ â”œâ”€ releases.yaml # releases registry configuration YAML â”œâ”€ snapshots.yaml # snapshots registry configuration YAML platforms/ â”œâ”€ cluster1.yaml # cluster1 configuration YAML â””â”€ cluster2.yml # cluster2 configuration YAML providers/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ [tenant]/ â””â”€ [env]/ â””â”€ provider1.yaml â””â”€ provider2.yaml validations/ â””â”€ apps/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ validation1.yaml â””â”€ validation2.yaml â””â”€ policies/ â””â”€ policy1.rego â””â”€ policy2.regoA detailed explanation of each configuration file will be provided below.
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://docs.firestartr.dev/docs/The-dot-firestartr-repository/"><meta property="og:site_name" content="Firestartr Documentation"><meta property="og:title" content="Firestartr Documentation"><meta property="og:description" content="ğŸ“„ Introduction# When using Firestartr, each client should have a repository called .firestartr, which should contain a variety of YAML files describing many different aspects of the clientâ€™s repository, registry and application structures.
ğŸ“ Repo structure# The repo structure is as follows:
apps/ â”œâ”€ app1.yaml # app1 configuration YAML â”œâ”€ app2.yml # app2 configuration YAML docker_registries/ â”œâ”€ releases.yaml # releases registry configuration YAML â”œâ”€ snapshots.yaml # snapshots registry configuration YAML platforms/ â”œâ”€ cluster1.yaml # cluster1 configuration YAML â””â”€ cluster2.yml # cluster2 configuration YAML providers/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ [tenant]/ â””â”€ [env]/ â””â”€ provider1.yaml â””â”€ provider2.yaml validations/ â””â”€ apps/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ validation1.yaml â””â”€ validation2.yaml â””â”€ policies/ â””â”€ policy1.rego â””â”€ policy2.regoA detailed explanation of each configuration file will be provided below."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta itemprop=name content="Firestartr Documentation"><meta itemprop=description content="ğŸ“„ Introduction# When using Firestartr, each client should have a repository called .firestartr, which should contain a variety of YAML files describing many different aspects of the clientâ€™s repository, registry and application structures.
ğŸ“ Repo structure# The repo structure is as follows:
apps/ â”œâ”€ app1.yaml # app1 configuration YAML â”œâ”€ app2.yml # app2 configuration YAML docker_registries/ â”œâ”€ releases.yaml # releases registry configuration YAML â”œâ”€ snapshots.yaml # snapshots registry configuration YAML platforms/ â”œâ”€ cluster1.yaml # cluster1 configuration YAML â””â”€ cluster2.yml # cluster2 configuration YAML providers/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ [tenant]/ â””â”€ [env]/ â””â”€ provider1.yaml â””â”€ provider2.yaml validations/ â””â”€ apps/ â””â”€ [app-name]/ â””â”€ [claim-kind]/ # currently only the 'TFWorkspace' kind is supported â””â”€ validation1.yaml â””â”€ validation2.yaml â””â”€ policies/ â””â”€ policy1.rego â””â”€ policy2.regoA detailed explanation of each configuration file will be provided below."><meta itemprop=wordCount content="849"><title>The Dot Firestartr Repository | Firestartr Documentation</title><link rel=icon href=/docs/favicon.png><link rel=manifest href=/docs/manifest.json><link rel=canonical href=https://docs.firestartr.dev/docs/The-dot-firestartr-repository/><link rel=stylesheet href=/docs/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/docs/fuse.min.js></script><script defer src=/docs/en.search.min.27ea268489c4afe5460ac64c12852404231f9abe51a238c074a89899891f1487.js integrity="sha256-J+omhInEr+VGCsZMEoUkBCMfmr5RojjAdKiYmYkfFIc=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-page"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/docs/><span>Firestartr Documentation</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/docs/Migrating-to-our-new-app-state-repo-structure/>Migrating to Our New App State Repo Structure</a></li><li><input type=checkbox id=section-77ba58481c81cfcc87f14a72108199d0 class=toggle>
<label for=section-77ba58481c81cfcc87f14a72108199d0 class=flex><a href=/docs/providers/>Providers</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-b1b6ec47a00c93e67ba6b7835cfc5cbb class=toggle>
<label for=section-b1b6ec47a00c93e67ba6b7835cfc5cbb class=flex><a href=/docs/providers/terraform/>Terraform</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/providers/terraform/workspace-policies/>Workspace Policies</a></li><li><a href=/docs/providers/terraform/workspace-sync/>Workspace Sync</a></li></ul></li></ul></li><li><a href=/docs/state-apps-repository/>State Apps Repository</a></li><li><a href=/docs/state-sys-services-repository/>State Sys Services Repository</a></li><li><a href=/docs/The-dot-firestartr-repository/ class=active>The Dot Firestartr Repository</a></li><li><a href=/docs/Validating-our-claims/>Validating Our Claims</a></li><li><input type=checkbox id=section-59625c6804349fe2bfba21980f88c1e3 class=toggle>
<label for=section-59625c6804349fe2bfba21980f88c1e3 class=flex><a href=/docs/features/>Features</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><input type=checkbox id=section-175a6acb21b23225ad6bb7d217c9122e class=toggle>
<label for=section-175a6acb21b23225ad6bb7d217c9122e class=flex><a href=/docs/features/build_and_dispatch_docker_images/>Build and Dispatch Docker Images</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/build_and_dispatch_docker_images/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-39ffb35bc31c80c3835fb6d107d8f566 class=toggle>
<label for=section-39ffb35bc31c80c3835fb6d107d8f566 class=flex><a href=/docs/features/catalog_repo/>Catalog Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/catalog_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-6b57e3023d9f976a9384af45ac1defa0 class=toggle>
<label for=section-6b57e3023d9f976a9384af45ac1defa0 class=flex><a href=/docs/features/charts_repo/>Charts Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/charts_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-b6a186066fe5df06a19368fd8c4e2996 class=toggle>
<label for=section-b6a186066fe5df06a19368fd8c4e2996 class=flex><a href=/docs/features/claims_repo/>Claims Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/claims_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-38807a9873b684081175bcfa2c2cf899 class=toggle>
<label for=section-38807a9873b684081175bcfa2c2cf899 class=flex><a href=/docs/features/features_repo/>Features Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/features_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-b095c0174f431275dbfbd179b858882c class=toggle>
<label for=section-b095c0174f431275dbfbd179b858882c class=flex><a href=/docs/features/firestartr_repo/>Firestartr Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/firestartr_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-8c74538169d2bfcc42048e94a7a8b10f class=toggle>
<label for=section-8c74538169d2bfcc42048e94a7a8b10f class=flex><a href=/docs/features/issue_templates/>Issue Templates</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/issue_templates/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-356bba00636a6fa9c561ac1523b4c383 class=toggle>
<label for=section-356bba00636a6fa9c561ac1523b4c383 class=flex><a href=/docs/features/release_please/>Release Please</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/release_please/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-17190a34986f329bfce42d3c100d77a8 class=toggle>
<label for=section-17190a34986f329bfce42d3c100d77a8 class=flex><a href=/docs/features/state_github/>State Github</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/state_github/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-5f9553708125dcb2260eaa1dc68fa4b3 class=toggle>
<label for=section-5f9553708125dcb2260eaa1dc68fa4b3 class=flex><a href=/docs/features/state_infra/>State Infra</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/state_infra/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-5cfdf617da323132dc220c8cdac15345 class=toggle>
<label for=section-5cfdf617da323132dc220c8cdac15345 class=flex><a href=/docs/features/state_repo/>State Repo</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/state_repo/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-ed9c88a7368e2738f3eb675492c08586 class=toggle>
<label for=section-ed9c88a7368e2738f3eb675492c08586 class=flex><a href=/docs/features/state_repo_apps/>State Repo Apps</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/state_repo_apps/KUBERNETES_README/>Kubernetes Readme</a></li><li><a href=/docs/features/state_repo_apps/SECRETS_README/>Secrets Readme</a></li><li><a href=/docs/features/state_repo_apps/TFWORKSPACES_README/>Tfworkspaces Readme</a></li><li><a href=/docs/features/state_repo_apps/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-9b5377154045b7f8613471f4d8281e78 class=toggle>
<label for=section-9b5377154045b7f8613471f4d8281e78 class=flex><a href=/docs/features/state_repo_sys_services/>State Repo Sys Services</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/state_repo_sys_services/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-36ec9bd0ed3955d6fa86995304f3f940 class=toggle>
<label for=section-36ec9bd0ed3955d6fa86995304f3f940 class=flex><a href=/docs/features/tech_docs/>Tech Docs</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/tech_docs/CHANGELOG/>Changelog</a></li></ul></li><li><input type=checkbox id=section-85da29a6eded009fe28c389b53dac15e class=toggle>
<label for=section-85da29a6eded009fe28c389b53dac15e class=flex><a href=/docs/features/terraform-infra/>Terraform Infra</a>
<img src=/docs/icons/chevron-right.svg class=book-icon alt=Expand></label><ul><li><a href=/docs/features/terraform-infra/ACCOUNTS_README/>Accounts Readme</a></li><li><a href=/docs/features/terraform-infra/CHANGELOG/>Changelog</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/docs/icons/menu.svg class=book-icon alt=Menu></label><h3>The Dot Firestartr Repository</h3><label for=toc-control><img src=/docs/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#-repo-structure>ğŸ“ Repo structure</a><ul><li><a href=#-app-configuration-example-and-field-description>ğŸ”§ App configuration example and field description</a></li><li><a href=#-registry-configuration-example-and-field-description>ğŸ”§ Registry configuration example and field description</a></li><li><a href=#-platform-configuration-example-and-field-description>ğŸ”§ Platform configuration example and field description</a></li><li><a href=#-providers-configuration-example-and-field-description>ğŸ”§ Providers configuration example and field description</a></li><li><a href=#-app-validation-configuration-example-and-field-description>ğŸ”§ App validation configuration example and field description</a></li><li><a href=#-about-validation-policies>ğŸ“¢ About validation policies</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=-introduction>ğŸ“„ Introduction<a class=anchor href=#-introduction>#</a></h1><p>When using Firestartr, each client should have a repository called <code>.firestartr</code>, which should contain a variety of YAML files describing many different aspects of the client&rsquo;s repository, registry and application structures.</p><h2 id=-repo-structure>ğŸ“ Repo structure<a class=anchor href=#-repo-structure>#</a></h2><p>The repo structure is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>apps/
</span></span><span style=display:flex><span>  â”œâ”€ app1.yaml     <span style=color:#75715e># app1 configuration YAML</span>
</span></span><span style=display:flex><span>  â”œâ”€ app2.yml      <span style=color:#75715e># app2 configuration YAML</span>
</span></span><span style=display:flex><span>docker_registries/
</span></span><span style=display:flex><span>  â”œâ”€ releases.yaml       <span style=color:#75715e># releases registry configuration YAML</span>
</span></span><span style=display:flex><span>  â”œâ”€ snapshots.yaml      <span style=color:#75715e># snapshots registry configuration YAML</span>
</span></span><span style=display:flex><span>platforms/
</span></span><span style=display:flex><span>  â”œâ”€ cluster1.yaml     <span style=color:#75715e># cluster1 configuration YAML</span>
</span></span><span style=display:flex><span>  â””â”€ cluster2.yml      <span style=color:#75715e># cluster2 configuration YAML</span>
</span></span><span style=display:flex><span>providers/
</span></span><span style=display:flex><span>  â””â”€ <span style=color:#f92672>[</span>app-name<span style=color:#f92672>]</span>/
</span></span><span style=display:flex><span>    â””â”€ <span style=color:#f92672>[</span>claim-kind<span style=color:#f92672>]</span>/    <span style=color:#75715e># currently only the &#39;TFWorkspace&#39; kind is supported</span>
</span></span><span style=display:flex><span>      â””â”€ <span style=color:#f92672>[</span>tenant<span style=color:#f92672>]</span>/
</span></span><span style=display:flex><span>        â””â”€ <span style=color:#f92672>[</span>env<span style=color:#f92672>]</span>/
</span></span><span style=display:flex><span>          â””â”€ provider1.yaml
</span></span><span style=display:flex><span>          â””â”€ provider2.yaml
</span></span><span style=display:flex><span>validations/
</span></span><span style=display:flex><span>  â””â”€ apps/
</span></span><span style=display:flex><span>    â””â”€ <span style=color:#f92672>[</span>app-name<span style=color:#f92672>]</span>/
</span></span><span style=display:flex><span>      â””â”€ <span style=color:#f92672>[</span>claim-kind<span style=color:#f92672>]</span>/    <span style=color:#75715e># currently only the &#39;TFWorkspace&#39; kind is supported</span>
</span></span><span style=display:flex><span>        â””â”€ validation1.yaml
</span></span><span style=display:flex><span>        â””â”€ validation2.yaml
</span></span><span style=display:flex><span>  â””â”€ policies/
</span></span><span style=display:flex><span>    â””â”€ policy1.rego
</span></span><span style=display:flex><span>    â””â”€ policy2.rego</span></span></code></pre></div><p>A detailed explanation of each configuration file will be provided below.</p><ul><li><a href=#-app-configuration-example-and-field-description>App</a></li><li><a href=#-registry-configuration-example-and-field-description>Registry</a></li><li><a href=#-platform-configuration-example-and-field-description>Platform</a></li><li><a href=#-providers-configuration-example-and-field-description>Provider</a></li><li><a href=#-app-validation-configuration-example-and-field-description>App validation</a></li><li><a href=#-about-validation-policies>Policy</a></li></ul><h3 id=-app-configuration-example-and-field-description>ğŸ”§ App configuration example and field description<a class=anchor href=#-app-configuration-example-and-field-description>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>app1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>state_repo</span>: <span style=color:#e6db74>&#34;firestartr-test/state-app-sample-app&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>firestartr-test/build-and-dispatch-images-react</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>service_names</span>: [<span style=color:#ae81ff>micro-a, micro-b]</span></span></span></code></pre></div><ul><li><strong>name</strong>: the name of the application for which this configuration will be applied. This value is used in the <code>make_dispatches.yaml</code> file (<a href=/docs/features/build_and_dispatch_docker_images/#make-dispatches>more info here</a>)</li><li><strong>state_repo</strong>: the state repo related to the application (each application should have its own state repo).</li><li><strong>services</strong>: a list of service objects. Each of them contains:<ol><li><strong>repo</strong>: the repository where objects will be uploaded. If they are prefixed by whether they are a docker image or a helm chart, this field&rsquo;s value should be only the last part of the repo name (i.e., if images are prefixed with <code>service/</code> and a image is uploaded as <code>service/client/service-name</code>, this fields value should be <code>client/service-name</code>). See the <a href=#-registry-configuration-example-and-field-description>registry configuration files</a> for more info on how to set the prefix.</li><li><strong>service_names</strong>: names of the services allowed to be saved for this app. These service names are the ones that are later written to the <code>images.yaml</code> file.</li></ol></li></ul><h3 id=-registry-configuration-example-and-field-description>ğŸ”§ Registry configuration example and field description<a class=anchor href=#-registry-configuration-example-and-field-description>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>snapshots</span> <span style=color:#75715e># This is going to be used in the helmfile registry alias</span>
</span></span><span style=display:flex><span><span style=color:#f92672>registry</span>: <span style=color:#ae81ff>prefappacr.azurecr.io</span>
</span></span><span style=display:flex><span><span style=color:#f92672>image_types</span>: [<span style=color:#ae81ff>snapshots]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>default</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span><span style=color:#f92672>auth_strategy</span>: <span style=color:#ae81ff>azure_oidc</span>
</span></span><span style=display:flex><span><span style=color:#f92672>base_paths</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>services</span>: <span style=color:#e6db74>&#34;service&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>charts</span>: <span style=color:#e6db74>&#34;charts&#34;</span></span></span></code></pre></div><ul><li><strong>name</strong>: a name for the registry, which will be used by some of our apps.</li><li><strong>registry</strong>: url to the registry where the objects will be uploaded to.</li><li><strong>image_types</strong>: a list of strings, which can be either &ldquo;snapshots&rdquo;, &ldquo;releases&rdquo; or both. Specifies which type of images can be uploaded to this registry.</li><li><strong>default</strong>: when no registry is specified, use the one that has this field&rsquo;s value set to true. There shouldn&rsquo;t be multiple registries with this field set to true, but if there are, the first one found will be used.</li><li><strong>auth_strategy</strong>: type of authentication to use when login to the registry. Can be one of <code>azure_oidc</code> or <code>aws_oidc</code></li><li><strong>base_paths</strong>: an object detailing the prefixes to use when uploading a service or chart to this registry. It has two properties:<ol><li><strong>services</strong>: the prefix to use when uploading docker images (e.g. if this field&rsquo;s value is <code>service</code> and we upload to the <code>prefapp/application</code> repository, the final coordinate will be <code>service/prefapp/application</code>).</li><li><strong>charts</strong>: the prefix to use when uploading helm charts (e.g. if this field&rsquo;s value is <code>chart</code> and we upload to the <code>prefapp/deployment</code> repository, the final coordinate will be <code>chart/prefapp/deployment</code>).</li></ol></li></ul><h3 id=-platform-configuration-example-and-field-description>ğŸ”§ Platform configuration example and field description<a class=anchor href=#-platform-configuration-example-and-field-description>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>type</span>: <span style=color:#ae81ff>kubernetes</span>
</span></span><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>cluster-name</span>
</span></span><span style=display:flex><span><span style=color:#f92672>tenants</span>: [<span style=color:#ae81ff>test-tenant]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>envs</span>: [<span style=color:#ae81ff>dev, pre]</span></span></span></code></pre></div><ul><li><strong>type</strong>: describes the technology this platform uses. Allowed values are <code>kubernetes</code> or <code>vmss</code>.</li><li><strong>name</strong>: the name of this platform. This value is used in the <code>make_dispatches.yaml</code> file (<a href=/docs/features/build_and_dispatch_docker_images/#make-dispatches>more info here</a>).</li><li><strong>tenants</strong>: A list of strings, used when this platform is set as a configuration value alongside one or multiple tenants for validation.</li><li><strong>envs</strong>: A list of strings, used when this platform is set as a configuration value alongside one or multiple environments for validation.</li></ul><h3 id=-providers-configuration-example-and-field-description>ğŸ”§ Providers configuration example and field description<a class=anchor href=#-providers-configuration-example-and-field-description>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>provider-my-tenant-dev</span>
</span></span><span style=display:flex><span><span style=color:#f92672>resourceTypes</span>:
</span></span><span style=display:flex><span> - <span style=color:#ae81ff>resourceType1</span>
</span></span><span style=display:flex><span> - <span style=color:#ae81ff>resourceType2</span>
</span></span><span style=display:flex><span> <span style=color:#ae81ff>...</span></span></span></code></pre></div><ul><li><strong>name</strong>: the name of this provider.</li><li><strong>resourceTypes</strong>: A list of strings, each of which is the name of a resource type this provider applies to.</li></ul><h3 id=-app-validation-configuration-example-and-field-description>ğŸ”§ App validation configuration example and field description<a class=anchor href=#-app-validation-configuration-example-and-field-description>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-validation</span>
</span></span><span style=display:flex><span><span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;My validation description&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>regoFile</span>: <span style=color:#ae81ff>path/to_the/rego_file.rego</span>
</span></span><span style=display:flex><span><span style=color:#f92672>applyTo</span>: [<span style=color:#ae81ff>condition list]</span>
</span></span><span style=display:flex><span><span style=color:#f92672>data</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>key1</span>: <span style=color:#ae81ff>value1</span>
</span></span><span style=display:flex><span>  - <span style=color:#f92672>key2</span>: <span style=color:#ae81ff>value2</span>
</span></span><span style=display:flex><span>  <span style=color:#ae81ff>...</span></span></span></code></pre></div><ul><li><strong>name</strong>: the name of the validation file, which must be unique between them.</li><li><strong>description</strong>: a brief description of what this validation does. Purely for human readability purpouses.</li><li><strong>regoFile</strong>: path to the rego file, relative to the policies folder (i.e., this field&rsquo;s value will be concatenated to <code>.firestartr/validations/policies</code> like so: <code>.firestartr/validations/policies/[this_fields_value]</code>)</li><li><strong>applyTo</strong>: a list of conditions which describe to which claims this validation applies to. For this, for each value in each element of the list, an AND operation is done with each other value of that element, then for each element an OR operation is done against each other element. See <a href=/docs/Validating-our-claims/#-about-the-applyto-field-values>&ldquo;About the applyTo field values&rdquo;</a> to learn more about the possible values of this field.</li><li><strong>data</strong>: key-value pairs, where each key is a variable name and each name its value, to be used inside the <code>regoFile</code> file.</li></ul><h3 id=-about-validation-policies>ğŸ“¢ About validation policies<a class=anchor href=#-about-validation-policies>#</a></h3><p>These are regular <code>.rego</code> files and have no custom or special values. You can learn more about Rego <a href=https://www.openpolicyagent.org/docs/latest/policy-language/>here</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div class="flex flex-wrap justify-between"><span><a href=/docs/state-sys-services-repository/ class="flex align-center"><img src=/docs/icons/backward.svg class=book-icon alt=Backward>
<span>State Sys Services Repository</span>
</a></span><span><a href=/docs/Validating-our-claims/ class="flex align-center"><span>Validating Our Claims</span>
<img src=/docs/icons/forward.svg class=book-icon alt=Forward></a></span></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#-repo-structure>ğŸ“ Repo structure</a><ul><li><a href=#-app-configuration-example-and-field-description>ğŸ”§ App configuration example and field description</a></li><li><a href=#-registry-configuration-example-and-field-description>ğŸ”§ Registry configuration example and field description</a></li><li><a href=#-platform-configuration-example-and-field-description>ğŸ”§ Platform configuration example and field description</a></li><li><a href=#-providers-configuration-example-and-field-description>ğŸ”§ Providers configuration example and field description</a></li><li><a href=#-app-validation-configuration-example-and-field-description>ğŸ”§ App validation configuration example and field description</a></li><li><a href=#-about-validation-policies>ğŸ“¢ About validation policies</a></li></ul></li></ul></nav></div></aside></main></body></html>